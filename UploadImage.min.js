"use strict";!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);window.UploadImage=e()}}(function(){function e(e,t,n){this.element=document.getElementById(e),this.url=t,this.imgKey=n||"AreaImgKey"}function t(e,t,n,i,a){var o=new XMLHttpRequest;o.open(e,t,!0),o.onload=function(){i&&i.call(a||this,o)},o.send(n||new FormData)}function n(e,t){var n=new FileReader;n.onload=t,n.readAsDataURL(e)}return e.prototype.paste=function(e,i){var a=this;this.element.addEventListener("paste",function(o){if(o.clipboardData&&o.clipboardData.items[0].type.indexOf("image")>-1){var r=this,s=o.clipboardData.items[0].getAsFile();n(s,function(n){var o=i||new FormData;o.append(a.imgKey,this.result),t("POST",a.url,o,e,r)})}},!1)},e.prototype.drag=function(e,n){var i=this;this.element.addEventListener("drop",function(a){a.preventDefault();var o=a.dataTransfer.files;if(0==o.length)return!1;if(-1===o[0].type.indexOf("image"))return console.log&&console.log("您拖的不是图片！"),!1;var r=n||new FormData;r.append(i.imgKey,o[0]),t("POST",i.url,r,e,this)},!1)},e.prototype.upload=function(e,t){this.drag(e,t),this.paste(e,t)},e});